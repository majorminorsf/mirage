#main
  .video{style: 'overflow: hidden'}
    %video{autoplay: 'autoplay', loop: 'loop'}
      %source{src: '/video/vid.mp4'}
      %source{src: '/video/vid.ogv'}
  #gradient
  = render partial: 'layouts/header'
  = javascript_include_tag 'gradient.js'
  .container
    .row
      .col-xs-12
        %section.contact
          .form
            %a.tel{href: 'tel:+14155555555'}
              415 - 555 - 5555
            %a.email{href: 'mailto:info@miragemedicinal.com'}
              info@miragemedicinal.com
            %ul.social
              %li
                %a{href: '#', target: '_blank'}
              %li
                %a{href: '#', target: '_blank'}
              %li
                %a{href: '#', target: '_blank'}
              %li
                %a{href: '#', target: '_blank'}
            = simple_form_for(@newsletter, remote: true) do |f|
              = f.input :email, input_html: { class: 'form-control', placeholder: 'Enter your email to join the Mirage Mailing List' }, label: false
              <button name="button" class="btn progress-button" data-style="shrink" data-horizontal>Apply</button>
= render partial: 'layouts/footer'
:javascript
  [].slice.call( document.querySelectorAll( 'button.progress-button' ) ).forEach( function( bttn ) {
  new ProgressButton( bttn, {
  callback : function( instance ) {
  var progress = 0,
  interval = setInterval( function() {
  progress = Math.min( progress + Math.random() * 0.1, 1 );
  instance._setProgress( progress );
  
  if( progress === 1 ) {
  instance._stop(1);
  clearInterval( interval );
  }
  }, 200 );
  }
  } );
  } );